[sandbox]
# E2B sandbox lifecycle settings.
# E2B template slug used when creating a new sandbox.
template = "opencode"
# Reserved flag for sandbox reuse policy (currently not used by runtime behavior).
reuse = true
# Base display name prefix used for launcher metadata.
name = "ez-box"
# Sandbox idle timeout in milliseconds (positive integer).
timeout_ms = 3600000
# Reserved flag for automatic sandbox deletion on exit (currently not used by runtime behavior).
delete_on_exit = false

[startup]
# Startup mode selection.
# Default startup mode. allowed: prompt|ssh-opencode|ssh-codex|web|ssh-shell
mode = "prompt" # allowed: prompt|ssh-opencode|ssh-codex|web|ssh-shell

[project]
# Project workspace, repo selection, and setup pipeline behavior.
# Repo selection strategy. single selects one repo, all selects every repo. allowed: single|all
mode = "single" # allowed: single|all
# Active repo chooser in single mode. prompt asks in interactive terminals; name/index currently fall back to first listed repo. allowed: prompt|name|index
active = "prompt" # allowed: prompt|name|index
# Parent workspace directory inside the sandbox where repos are cloned.
dir = "/home/user/projects/workspace"
# Launch working directory. auto picks selected repo path (single), project.dir (multiple), or leaves cwd unchanged (no repo selection).
working_dir = "auto"
# Run setup steps on connect/start even when repo already exists.
setup_on_connect = false
# Retry count per setup step after the first attempt (total attempts = setup_retries + 1).
setup_retries = 2
# Continue bootstrapping other repos after a setup failure.
setup_continue_on_error = false

[[project.repos]]
# Repo entry used for clone, optional checkout, setup, and startup environment.
# Repo directory name under project.dir (also used as display label).
name = "opencode"
# Git remote URL to clone.
url = "https://github.com/sst/opencode.git"
# Branch checked out after clone/connect (defaults to main when omitted).
branch = "main"
# Primary setup command run in repo directory.
setup_command = ""
# Extra env vars injected for setup commands (string values only).
setup_env = {}
# Extra env vars injected only when exactly one repo is selected at launch time.
startup_env = {}

[[project.repos]]
# Repo entry used for clone, optional checkout, setup, and startup environment.
# Repo directory name under project.dir (also used as display label).
name = "next.js"
# Git remote URL to clone.
url = "https://github.com/vercel/next.js.git"
# Branch checked out after clone/connect (defaults to main when omitted).
branch = "canary"
# Primary setup command run in repo directory.
setup_command = ""
# Extra env vars injected for setup commands (string values only).
setup_env = {}
# Extra env vars injected only when exactly one repo is selected at launch time.
startup_env = {}

[[project.repos]]
# Repo entry used for clone, optional checkout, setup, and startup environment.
# Repo directory name under project.dir (also used as display label).
name = "react"
# Git remote URL to clone.
url = "https://github.com/facebook/react.git"
# Branch checked out after clone/connect (defaults to main when omitted).
branch = "main"
# Primary setup command run in repo directory.
setup_command = ""
# Extra env vars injected for setup commands (string values only).
setup_env = {}
# Extra env vars injected only when exactly one repo is selected at launch time.
startup_env = {}

[env]
# Environment variable pass-through into sandbox creation.
# Additional host env var names to forward into the sandbox at create time.
pass_through = ["OPENROUTER_API_KEY", "CEREBRAS_API_KEY"]

[opencode]
# Host paths for OpenCode config/auth sync into the sandbox.
# Local OpenCode config directory synced to /home/user/.config/opencode in the sandbox.
config_dir = "~/.config/opencode"
# Local OpenCode auth file synced to /home/user/.local/share/opencode/auth.json in the sandbox.
auth_path = "~/.local/share/opencode/auth.json"

[codex]
# Host paths for Codex config/auth sync into the sandbox.
# Local Codex config directory synced to /home/user/.codex in the sandbox.
config_dir = "~/.codex"
# Local Codex auth file synced to /home/user/.codex/auth.json in the sandbox.
auth_path = "~/.codex/auth.json"

[mcp]
# Firecrawl/MCP wiring passed into sandbox environment.
# Firecrawl integration mode. disabled sends nothing, remote_url enforces a valid reachable URL, in_sandbox is advanced and currently not fully implemented. allowed: disabled|remote_url|in_sandbox
mode = "disabled" # allowed: disabled|remote_url|in_sandbox
# Firecrawl base URL (takes precedence over FIRECRAWL_API_URL env when non-empty).
firecrawl_api_url = ""
# Allow localhost Firecrawl URLs in remote_url mode (unsafe for remote sandboxes unless tunneled).
allow_localhost_override = false
